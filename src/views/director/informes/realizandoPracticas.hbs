<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css">
{{>navegacionDirector}}

<div class="container">

    <h4>Total estudiantes: {{total}}</h4>


    <div class="card mt-4">
        <div class="card-body">
            <div class="card-title font-weight-bold">
                <h3>Informe de estudiantes realizando prácticas (Ordenados por ciudad)</h3>
            </div>
            <div class="card-text">
                Cantidad estudiantes en prácticas: {{cantidadEnPracticas}}

                <div class="table-responsive-lg mt-2 pt-2">
                    <!--Para encerrar la tabla responsive-->
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Código</th>
                                <th scope="col">Nombre</th>
                                <th scope="col">Empresa</th>
                                <th scope="col">Ciudad</th>
                            </tr>
                        </thead>
                        <tbody>

                            {{#each rowsEstudiantesEnPracticas}}
                            <tr>
                                <td>{{pfkCodigoEstudiante}}</td>
                                <td>{{nombreUsuario}}</td>
                                <td>{{nombreEmpresa}}</td>
                                <td>{{descripcionCiudad}}</td>
                            </tr>
                            {{else}}
                            <tr>
                                <td>No hay estudiantes registrados</td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>



            </div>
        </div>
    </div>





    <div class="card mt-4">
        <div class="card-body">
            <div class="card-title font-weight-bold">
                <h2>Informe de estudiantes sin prácticas</h2>
            </div>
            <div class="card-text">

                Cantidad estudiantes sin prácticas: {{cantidadSinPracticas}}

                <div class="table-responsive-lg mt-2 pt-2">
                    <!--Para encerrar la tabla responsive-->
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Código</th>
                                <th scope="col">Nombre</th>
                            </tr>
                        </thead>
                        <tbody>

                            {{#each rowsEstudiantesSinPracticas}}
                            <tr>
                                <td>{{pfkCodigoEstudiante}}</td>
                                <td>{{nombreUsuario}}</td>
                            </tr>
                            {{else}}
                            <tr>
                                <td>No hay estudiantes registrados</td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>



            </div>
        </div>
    </div>




    <div class="card mt-4">
        <div class="card-body">
            <div class="card-title font-weight-bold">
                <h3>Diagrama de torta</h3>
            </div>
            <div class="card-text">
            <div id="piechart">
            </div>
                
                

            </div>
        </div>
    </div>



</div>


<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable([
  ['Concepto', 'Cantidad estudiantes'],
  ['Realizando prácticas', {{cantidadEnPracticas}}],
  ['Sin prácticas', {{cantidadSinPracticas}}]
]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'', 'width':550, 'height':400};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  chart.draw(data, options);
}
</script>

